(this["webpackJsonptokopedia-project-main"]=this["webpackJsonptokopedia-project-main"]||[]).push([[0],{107:function(e,t,n){},136:function(e,t,n){"use strict";n.r(t);var a=n(3),o=n(0),c=n.n(o),r=n(11),i=n.n(r),s=(n(107),n(89)),l=n.n(s),u=n(88),m=n.n(u),b=n(7),d=n(18),j=n(189),p=n(191),O=n(186),g=Object(O.a)({root:{position:"fixed",bottom:0,width:"100%"}}),k=Object(O.a)({root:{"&$selected":{color:"#7D4CDB"}},selected:{color:"#7D4CDB"}}),f=function(e){var t=e.actions,n=e.selectedAction,o=e.onChange,c=Object(d.a)(e,["actions","selectedAction","onChange"]),r=g(),i=k();return Object(a.jsx)(j.a,Object(b.a)(Object(b.a)({value:n,onChange:o,showLabels:!0,classes:r},c),{},{children:t.map((function(e,t){return Object(a.jsx)(p.a,{classes:i,label:e.label,icon:!!e.icon&&e.icon,"data-testid":e.label},t)}))}))},h=n(192),y=n(195),v=n(193),P=n(45),x=function(e){var t=e.label,n=e.variant,o=Object(d.a)(e,["label","variant"]);return Object(a.jsx)(P.a,Object(b.a)(Object(b.a)({variant:n},o),{},{children:t}))},C=n(194),L=Object(O.a)({root:{marginBottom:"1em",cursor:"pointer"}}),S=function(e){var t=e.label,n=e.labelVariant,o=void 0===n?"h6":n,c=e.subLabel,r=e.children,i=e.styles,s=void 0===i?{}:i,l=e.separateContentAndButtons,u=void 0!==l&&l,m=Object(d.a)(e,["label","labelVariant","subLabel","children","styles","separateContentAndButtons"]),j=r,p=L();return Object(a.jsx)(h.a,Object(b.a)(Object(b.a)({classes:p},m),{},{children:Object(a.jsxs)(v.a,{style:s.cardContent,children:[Object(a.jsx)(x,{label:t,variant:o,"data-testid":"card-label"}),!!c&&Object(a.jsx)(x,{label:c,variant:"subtitle2",color:"textSecondary","data-testid":"card-sub-label"}),u&&Object(a.jsx)(C.a,{style:s.divider}),j?Object(a.jsx)(y.a,{style:s.cardActions,children:j}):null]})}))},N=n(210),w=Object(O.a)({ul:{justifyContent:"center"}}),T=function(e){var t=e.pages,n=Object(d.a)(e,["pages"]),o=w();return Object(a.jsx)(N.a,Object(b.a)({"data-testid":"pagination",classes:o,count:t,color:"primary",siblingCount:1},n))},E=function(e){if(e)return e.replace(/([^A-Z])([A-Z])/g,"$1 $2").replace(/[_\-]+/g," ").toLowerCase().replace(/(^\w|\b\w)/g,(function(e){return e.toUpperCase()})).replace(/\s+/g," ").replace(/^\s+|\s+$/,"")},A=function(e){return Math.ceil(e)},B=n(35),D=n(21),M=n(13),F=n(66),_=n.n(F),R=n(87),H=n(67),I=n.n(H),K="FETCH_POKEMONS_LIST",W="FETCH_POKEMON_DETAIL",V="FETCH_MY_POKEMONS",Y="CATCH_POKEMON",$="RELEASE_MY_POKEMON",J="SET_CURRENT_POKEMONS_LIST_PAGE",G="SET_CURRENT_MY_POKEMONS_LIST_PAGE",U="SET_SELECTED_BOTTOM_ACTION",Z="LOADING",q=function(e){return 0==e||"undefined"===typeof e||null==e||"object"===typeof e&&z(e)},z=function e(t){return"undefined"===typeof t.length?!Object.keys(t).some((function(e){return!q(t[e])}))&&e(Object.keys(t)):!t.some((function(e){return!q(e)}))},Q="https://pokeapi.co/api/v2",X=function(){var e=Object(R.a)(_.a.mark((function e(t){var n,a,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Q,"/pokemon"),q(t)||(a=Object.keys(t).map((function(e){return e+"="+t[e]})).join("&"))&&(n+="?".concat(a)),o=I.a.get(n).catch((function(e){return e.response})),e.abrupt("return",{type:K,payload:o});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(e){var t="".concat(Q,"/pokemon/").concat(e),n=I.a.get(t).catch((function(e){return e.response}));return{type:W,payload:n}},te=function(){return{type:Z}},ne=function(){var e=Object(D.b)(),t=Object(M.f)(),n=Object(o.useState)([]),a=Object(B.a)(n,2),c=a[0],r=a[1],i=Object(D.c)((function(e){return{allPokemonsList:e.PokemonReducer.pokemonsList,currentPokemonsListPage:e.PokemonReducer.currentPokemonsListPage,pageOffset:e.PokemonReducer.pageOffset,pageLimit:e.PokemonReducer.pageLimit,allPokemonsCount:e.PokemonReducer.allPokemonsCount,loading:e.PokemonReducer.loading}})),s=i.allPokemonsList,l=i.currentPokemonsListPage,u=i.pageOffset,m=i.pageLimit,b=i.allPokemonsCount,d=i.loading;Object(o.useEffect)((function(){q(s[l])?(e(te()),e(X({offset:u,limit:m}))):r(s[l])}),[s]);return{currentlyDisplayedPokemonsList:c,setCurrentlyDisplayedPokemonsList:r,allPokemonsList:s,currentPokemonsListPage:l,pageOffset:u,pageLimit:m,allPokemonsCount:b,onChangePage:function(t,n){e(function(e){return{type:J,payload:e}}(n)),q(s[n])?(e(te()),e(X({offset:(n-1)*m,limit:m}))):r(s[n])},onPokemonClick:function(n){e(te()),e(ee(n)),t.push("/pokemon/".concat(n))},loading:d}},ae=n(196),oe={skeletonCard:{marginBottom:"1em"}},ce=function(){return Object(a.jsx)(a.Fragment,{children:Array(20).fill().map((function(e,t){return Object(a.jsx)(ae.a,{style:oe.skeletonCard,variant:"rect",width:"100%",height:72},t)}))})},re={content:{maxWidth:400,minHeight:"calc(100vh - 60px)",margin:"0 auto",backgroundColor:"#f9f9fb"}},ie=function(){var e=ne(),t=e.currentlyDisplayedPokemonsList,n=e.currentPokemonsListPage,o=e.pageLimit,c=e.allPokemonsCount,r=e.onChangePage,i=e.onPokemonClick,s=e.loading;return Object(a.jsx)("div",{style:re.content,children:s?Object(a.jsx)(ce,{}):Object(a.jsxs)(a.Fragment,{children:[t.map((function(e){return Object(a.jsx)(S,{label:E(e.name),labelVariant:"h6",onClick:function(){return i(e.name)}})})),Object(a.jsx)(T,{onChange:r,page:n,pages:A(c/o)})]})})},se=n(214),le=function(e){var t=e.url,n=Object(d.a)(e,["url"]);return Object(a.jsx)(se.a,Object(b.a)({"data-testid":"image",src:t},n))},ue=n.p+"static/media/pokeball-big.c95b8da7.png",me={image:{height:100,width:100,display:"block",margin:"auto",paddingTop:"50%"},label:{display:"block",textAlign:"center",margin:"1em"}},be=function(e){var t=e.label;return Object(a.jsxs)("div",{"data-testid":"nothing-to-show",children:[Object(a.jsx)(le,{src:ue,variant:"square",style:me.image}),Object(a.jsx)(x,{variant:"p",color:"textSecondary",label:t,style:me.label})]})},de=n(197),je=function(e){var t=e.label,n=e.variant,o=void 0===n?"outlined":n,c=Object(d.a)(e,["label","variant"]);return Object(a.jsx)(de.a,Object(b.a)(Object(b.a)({"data-testid":"button",variant:o,color:"primary"},c),{},{children:t}))},pe=function(){var e=Object(D.b)(),t=Object(M.f)(),n=Object(o.useState)([]),a=Object(B.a)(n,2),c=a[0],r=a[1],i=Object(D.c)((function(e){return{myPokemonsList:e.PokemonReducer.myPokemonsList,myPokemonsListCount:e.PokemonReducer.myPokemonsListCount,currentMyPokemonsListPage:e.PokemonReducer.currentMyPokemonsListPage,pageLimit:e.PokemonReducer.pageLimit}})),s=i.myPokemonsList,l=i.myPokemonsListCount,u=i.currentMyPokemonsListPage,m=i.pageLimit,b=A(l/m);Object(o.useEffect)((function(){e({type:V}),r(Object.keys(s).slice(0,m).reduce((function(e,t){return e[t]=s[t],e}),{}))}),[]),Object(o.useEffect)((function(){r(Object.keys(s).slice((u-1)*m,(u-1)*m+m).reduce((function(e,t){return e[t]=s[t],e}),{}))}),[u,s]);return{currentlyDisplayedMyPokemonsList:c,myPokemonsList:s,myPokemonsListCount:l,currentMyPokemonsListPage:u,pageLimit:m,pagesCount:b,onPokemonClick:function(n){e(te()),e(ee(n)),t.push("/pokemon/".concat(n))},onChangePage:function(t,n){return e(function(e){return{type:G,payload:e}}(n))},onReleasePokemon:function(t){return e(function(e){return{type:$,payload:e}}(t))}}},Oe={content:{maxWidth:400,minHeight:"calc(100vh - 60px)",margin:"0 auto",backgroundColor:"#f9f9fb"},cardContent:{paddingBottom:0},cardActions:{paddingLeft:0,float:"right"},releaseButton:{color:"#f44336",borderColor:"#f44336"},divider:{marginTop:20}},ge=function(){var e=pe(),t=e.currentlyDisplayedMyPokemonsList,n=e.myPokemonsList,o=e.currentMyPokemonsListPage,c=e.pagesCount,r=e.onPokemonClick,i=e.onChangePage,s=e.onReleasePokemon;return Object(a.jsx)("div",{style:Oe.content,children:q(t)?Object(a.jsx)(be,{label:"Sorry, you have not caught any pokemon yet"}):Object(a.jsxs)("div",{children:[Object.keys(t).map((function(e){var t=n[e];return Object(a.jsx)(S,{label:e,labelVariant:"h6",subLabel:E(t),onClick:function(){return r(t)},styles:Oe,separateContentAndButtons:!0,children:Object(a.jsx)(je,{size:"small",label:"Release",style:Oe.releaseButton,onClick:function(t){t.preventDefault(),t.stopPropagation(),s(e)}})},e)})),Object(a.jsx)(T,{onChange:i,page:o,pages:c})]})})},ke=function(){var e=Object(D.b)();return{onChangeBottomNavigationAction:function(t,n){e({type:U,payload:n})},selectedBottomAction:Object(D.c)((function(e){return e.PokemonReducer.selectedBottomAction}))}},fe={wrapper:{backgroundColor:"#eaeaea",margin:"0 0 60px 0"},content:{maxWidth:400,minHeight:"calc(100vh - 60px)",margin:"0 auto",backgroundColor:"#f9f9fb"}},he=function(){var e=ke(),t=e.onChangeBottomNavigationAction,n=e.selectedBottomAction;return Object(a.jsxs)("div",{style:fe.wrapper,children:[function(){switch(n){case 0:return Object(a.jsx)(ie,{});case 1:return Object(a.jsx)(ge,{});default:return Object(a.jsx)(ie,{})}}(),Object(a.jsx)(f,{selectedAction:n,onChange:t,actions:[{label:"Pokemons List",icon:Object(a.jsx)(m.a,{})},{label:"My Pokemons",icon:Object(a.jsx)(l.a,{})}]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=n(90),ve=n.n(ye),Pe=n(39),xe=n(92),Ce=n(41),Le="MY_POKEMONS",Se=function(e){var t=localStorage.getItem(e);return q(t)?null:JSON.parse(t)},Ne=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},we=function(e){return localStorage.removeItem(e)},Te={pokemonsListCount:null,pokemonsList:[],currentPokemon:null,myPokemonsList:{},searchTerm:"",myPokemonsListCount:null,pageOffset:0,pageLimit:20,currentPokemonsListPage:1,currentMyPokemonsListPage:1,selectedBottomAction:0,loading:!1};var Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:if(200===t.payload.status)return Object(b.a)(Object(b.a)({},e),{},{pokemonsList:Object(b.a)(Object(b.a)({},e.pokemonsList),{},Object(Ce.a)({},e.currentPokemonsListPage,t.payload.data.results)),allPokemonsCount:t.payload.data.count,pageOffset:(e.currentPokemonsListPage-1)*e.pageLimit,loading:!1});case W:if(200===t.payload.status)return Object(b.a)(Object(b.a)({},e),{},{currentPokemon:Object(b.a)(Object(b.a)({},t.payload.data),{},{types:t.payload.data.types.map((function(e){return e.type})),moves:t.payload.data.moves.map((function(e){return e.move}))}),loading:!1});case V:var n=Se(Le);return q(n)?Object(b.a)(Object(b.a)({},e),{},{myPokemonsList:{},myPokemonsListCount:0}):Object(b.a)(Object(b.a)({},e),{},{myPokemonsList:n.pokemons,myPokemonsListCount:n.count});case $:var a=t.payload,o=Se(Le);if(o.pokemons[a]){if(1===o.count)return we(Le),Object(b.a)(Object(b.a)({},e),{},{myPokemonsList:{}});var c=o.pokemons,r=(c[a],Object(d.a)(c,[a].map(xe.a)));return o.count-=1,Ne(Le,{count:o.count,pokemons:r}),Object(b.a)(Object(b.a)({},e),{},{myPokemonsList:r})}return Object(b.a)(Object(b.a)({},e),{},{myPokemonsList:o});case Y:var i,s=t.payload,l=s.pokemonNickname,u=s.pokemonName,m=Se(Le);return i=q(m)?{count:1,pokemons:Object(Ce.a)({},l,u)}:{count:m.count+1,pokemons:Object(b.a)(Object(b.a)({},m.pokemons),{},Object(Ce.a)({},l,u))},Ne(Le,i),Object(b.a)(Object(b.a)({},e),{},{myPokemonsList:i});case J:var j=t.payload;return Object(b.a)(Object(b.a)({},e),{},{currentPokemonsListPage:j});case G:var p=t.payload;return Object(b.a)(Object(b.a)({},e),{},{currentMyPokemonsListPage:p});case U:var O=t.payload;return Object(b.a)(Object(b.a)({},e),{},{selectedBottomAction:O});case Z:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});default:return e}},Ae=Object(Pe.c)({PokemonReducer:Ee}),Be=n(47),De=n(207),Me=n(91),Fe="#7D4CDB",_e="#11CB5F",Re=Object(Me.a)({palette:{primary:{main:Fe},secondary:{main:_e}}}),He=n(208),Ie=n(212),Ke=n(203),We=n(199),Ve=n(200),Ye=n(198),$e=function(e){var t=e.open,n=e.dialogTitle,o=e.dialogSubTitle,c=e.textFieldLabel,r=(e.textFieldValue,e.textFieldOnChange),i=e.dialogConfirmButtonLabel,s=e.onSubmit;return Object(a.jsxs)(Ie.a,{open:t,children:[Object(a.jsx)(Ye.a,{"data-testid":"dialog-title",children:n}),Object(a.jsxs)(We.a,{children:[Object(a.jsx)(Ve.a,{"data-testid":"dialog-subtitle",children:o}),Object(a.jsx)(He.a,{autoFocus:!0,margin:"dense",label:c,type:"text",fullWidth:!0,onChange:r,inputProps:{"data-testid":"dialog-text-field"}})]}),Object(a.jsx)(Ke.a,{children:Object(a.jsx)(je,{variant:"text",onClick:s,color:"primary",label:i})})]})},Je=n(202),Ge=n(204),Ue=n(205),Ze=n(206),qe=Object(O.a)({root:{backgroundColor:Fe,color:"#ffffff",opacity:.75}}),ze=function(e){var t=e.listItems,n=e.iconSelector,o=void 0===n?"icon":n,c=e.labelSelector,r=void 0===c?"label":c,i=qe();return Object(a.jsx)(Je.a,{children:t.map((function(e,t){return Object(a.jsxs)(Ge.a,{classes:i,divider:!0,children:[!q(e[o])&&Object(a.jsx)(Ue.a,{children:e[o]}),Object(a.jsx)(Ze.a,{"data-testid":e[r],primary:E(e[r])})]},t)}))})},Qe=n(213),Xe=n(209);function et(e){return Object(a.jsx)(Xe.a,Object(b.a)({elevation:6},e))}var tt=function(e){var t=e.snackbarStatus,n=e.autoHideDuration,o=e.handleClose,c=e.variant,r=void 0===c?"filled":c,i=Object(d.a)(e,["snackbarStatus","autoHideDuration","handleClose","variant"]),s=function(e,n){"clickaway"!==n&&o(Object(b.a)(Object(b.a)({},t),{},{open:!1}))};return Object(a.jsx)(Qe.a,Object(b.a)(Object(b.a)({open:t.open,autoHideDuration:n,onClose:s,"data-testid":"snackbar"},i),{},{children:Object(a.jsx)(et,{onClose:s,severity:t.severity,variant:r,children:t.message})}))},nt=function(e){var t=Object(D.b)(),n=Object(M.f)(),a=Object(o.useState)({open:!1,severity:"",message:""}),c=Object(B.a)(a,2),r=c[0],i=c[1],s=Object(o.useState)(!1),l=Object(B.a)(s,2),u=l[0],m=l[1],b=Object(o.useState)(""),d=Object(B.a)(b,2),j=d[0],p=d[1],O=Object(D.c)((function(e){return{currentPokemon:e.PokemonReducer.currentPokemon,loading:e.PokemonReducer.loading}})),g=O.currentPokemon,k=O.loading,f=e.params.pokemonName,h=q(g)?"-":E(g.name);Object(o.useEffect)((function(){q(g)&&(t(te()),t(ee(f)))}),[]);return{snackbarStatus:r,setSnackbarStatus:i,formDialogOpen:u,setFormDialogOpen:m,formDialogTextField:j,setFormDialogTextField:p,currentPokemon:g,pokemonNameFromSlug:f,pokemonName:h,onCatchPokemonClick:function(){Math.random()<.5?(m(!0),i({open:!0,severity:"success",message:"Congratulations you have caught ".concat(h)})):i({open:!0,severity:"error",message:"Too bad! You did not caught ".concat(h)})},onChangeNicknameField:function(e){return p(e.target.value)},onSubmitNewNickname:function(){""!==j&&(!function(e,t){var n=Se(e);return!(q(n)||!n.pokemons[t])}(Le,j)?(t(function(e,t){return{type:Y,payload:{pokemonNickname:e,pokemonName:t}}}(j,g.name)),m(!1),n.goBack()):i({open:!0,severity:"error",message:"Nickname already exists, please give another nickname"}))},loading:k}},at={skeletonAvatar:{margin:"0 auto",padding:"0.5em"},skeletonList:{margin:"1em"}},ot=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ae.a,{style:at.skeletonAvatar,variant:"circle",width:120,height:120}),Object(a.jsx)(ae.a,{variant:"text"}),Object(a.jsx)(ae.a,{style:at.skeletonList,variant:"rect",height:150}),Object(a.jsx)(ae.a,{style:at.skeletonList,variant:"rect",height:500}),Object(a.jsx)(ae.a,{variant:"rect",width:"100%",height:36})]})},ct={wrapper:{backgroundColor:"#eaeaea",margin:"0"},content:{maxWidth:400,minHeight:"100vh",margin:"0 auto",backgroundColor:"#f9f9fb"},pokemonDetailWrapper:{marginBottom:0},avatar:{margin:"0 auto",width:120,height:120,backgroundColor:_e,padding:"0.5em",opacity:.75},typesSection:{margin:"1em"},movesSection:{margin:"1em",maxHeight:500,overflow:"auto"},pokemonNameTitle:{textAlign:"center",color:Fe},catchPokemonButton:{display:"block",width:"95%",margin:"0 auto"}},rt=function(e){var t=e.match,n=nt(t),o=n.snackbarStatus,c=n.setSnackbarStatus,r=n.formDialogOpen,i=n.setFormDialogOpen,s=n.formDialogTextField,l=n.currentPokemon,u=n.pokemonName,m=n.onCatchPokemonClick,b=n.onChangeNicknameField,d=n.onSubmitNewNickname,j=n.loading;return Object(a.jsx)("div",{style:ct.wrapper,children:Object(a.jsxs)("div",{style:ct.content,children:[j?Object(a.jsx)(ot,{}):Object(a.jsx)(a.Fragment,{children:!q(l)&&Object(a.jsxs)("div",{children:[Object(a.jsx)(le,{url:l.sprites.front_default,alt:l.name,style:ct.avatar}),Object(a.jsx)(x,{label:u,variant:"h3",style:ct.pokemonNameTitle}),Object(a.jsxs)("div",{style:ct.typesSection,children:[Object(a.jsx)(x,{label:"Types",variant:"h4"}),Object(a.jsx)(ze,{listItems:l.types,labelSelector:"name"})]}),Object(a.jsxs)("div",{style:ct.movesSection,children:[Object(a.jsx)(x,{label:"Moves",variant:"h4"}),Object(a.jsx)(ze,{listItems:l.moves,labelSelector:"name"})]}),Object(a.jsx)(je,{onClick:m,style:ct.catchPokemonButton,label:"Catch ".concat(u)})]})}),Object(a.jsx)($e,{open:r,setOpen:i,dialogTitle:"Set Nickname",dialogSubTitle:"Set nickname for your newly caught pokemon",textFieldLabel:"Nickname",textFieldValue:s,textFieldOnChange:b,dialogConfirmButtonLabel:"Save Nickname",onSubmit:d}),Object(a.jsx)(tt,{snackbarStatus:o,autoHideDuration:5e3,handleClose:c,variant:"filled"})]})})},it=function(){var e=Object(Pe.a)(ve.a)(Pe.d);return Object(a.jsx)(Be.a,{basename:"/tokopedia-project-main",children:Object(a.jsx)(De.a,{theme:Re,children:Object(a.jsx)(D.a,{store:e(Ae),children:Object(a.jsxs)(M.c,{children:[Object(a.jsx)(M.a,{exact:!0,path:"/",component:he}),Object(a.jsx)(M.a,{exact:!0,path:"/pokemon",component:he}),Object(a.jsx)(M.a,{exact:!0,path:"/pokemon/:pokemonName",component:rt})]})})})})};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(it,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[136,1,2]]]);
//# sourceMappingURL=main.0100d807.chunk.js.map