(this["webpackJsonptokopedia-project-main"]=this["webpackJsonptokopedia-project-main"]||[]).push([[0],{108:function(e,t,n){},109:function(e,t,n){},114:function(e,t,n){},134:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var a=n(4),o=n(0),c=n.n(o),r=n(11),s=n.n(r),i=(n(108),n(29)),l=(n.p,n(91)),u=n.n(l),j=n(90),b=n.n(j),m=n(7),O=n(20),p=n(193),d=n(195),f=n(190),k=(n(109),Object(f.a)({root:{"&$selected":{color:"#7D4CDB"}},selected:{color:"#7D4CDB"}})),v=function(e){var t=e.actions,n=e.selectedAction,o=e.onChange,c=Object(O.a)(e,["actions","selectedAction","onChange"]),r=k();return Object(a.jsx)(p.a,Object(m.a)(Object(m.a)({value:n,onChange:o,showLabels:!0,className:"BottomNavigation-wrapper"},c),{},{children:t.map((function(e,t){return Object(a.jsx)(d.a,{classes:{root:r.root,selected:r.selected},label:e.label,icon:e.icon},t)}))}))},y=n(64),h=n.n(y),g=n(87),x=n(196),P=n(199),C=n(197),L=(n(114),n(44)),S=function(e){var t=e.label,n=e.variant,o=Object(O.a)(e,["label","variant"]);return Object(a.jsx)(L.a,Object(m.a)(Object(m.a)({variant:n},o),{},{children:t}))},N=n(198),E=function(e){var t=e.label,n=e.labelVariant,o=void 0===n?"p":n,c=e.children,r=e.styles,s=void 0===r?{}:r,i=e.separateContentAndButtons,l=void 0!==i&&i,u=Object(O.a)(e,["label","labelVariant","children","styles","separateContentAndButtons"]),j=c;return Object(a.jsx)(x.a,Object(m.a)(Object(m.a)({className:"Card-wrapper"},u),{},{children:Object(a.jsxs)(C.a,{style:s.cardContent,children:[Object(a.jsx)(S,{label:t,variant:o}),l&&Object(a.jsx)(N.a,{style:s.divider}),j?Object(a.jsx)(P.a,{style:s.cardActions,children:j}):null]})}))},w=n(213),T=Object(f.a)({ul:{justifyContent:"center"}}),_=function(e){var t=e.pages,n=Object(O.a)(e,["pages"]),o=T();return Object(a.jsx)(w.a,Object(m.a)({classes:o,count:t,color:"primary",siblingCount:1},n))},M=function(e){return e.replace(/([^A-Z])([A-Z])/g,"$1 $2").replace(/[_\-]+/g," ").toLowerCase().replace(/(^\w|\b\w)/g,(function(e){return e.toUpperCase()})).replace(/\s+/g," ").replace(/^\s+|\s+$/,"")},B=n(19),R=n(14),A=n(66),D=n.n(A),I="FETCH_POKEMONS_LIST",F="FETCH_POKEMON_DETAIL",H="FETCH_MY_POKEMONS",K="CATCH_POKEMON",G="RELEASE_MY_POKEMON",V="SET_CURRENT_POKEMONS_LIST_PAGE",W="SET_CURRENT_MY_POKEMONS_LIST_PAGE",Y=function(e){return 0==e||"undefined"===typeof e||null==e||"object"===typeof e&&$(e)},$=function e(t){return"undefined"===typeof t.length?!Object.keys(t).some((function(e){return!Y(t[e])}))&&e(Object.keys(t)):!t.some((function(e){return!Y(e)}))},J="https://pokeapi.co/api/v2",U=function(e){var t="".concat(J,"/pokemon");if(!Y(e)){var n=Object.keys(e).map((function(t){return t+"="+e[t]})).join("&");n&&(t+="?".concat(n))}var a=D.a.get(t).catch((function(e){return e.response}));return{type:I,payload:a}},Z=function(e){var t="".concat(J,"/pokemon/").concat(e),n=D.a.get(t).catch((function(e){return e.response}));return{type:F,payload:n}},z=function(e){return Math.ceil(e)},q=function(){var e=Object(B.b)(),t=Object(R.f)(),n=Object(o.useState)([]),c=Object(i.a)(n,2),r=c[0],s=c[1],l=Object(B.c)((function(e){return e.PokemonReducer.pokemonsList})),u=Object(B.c)((function(e){return e.PokemonReducer.currentPokemonsListPage})),j=Object(B.c)((function(e){return e.PokemonReducer.pageOffset})),b=Object(B.c)((function(e){return e.PokemonReducer.pageLimit})),m=Object(B.c)((function(e){return e.PokemonReducer.allPokemonsCount}));Object(o.useEffect)((function(){(function(){var t=Object(g.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(U({offset:j,limit:b}));case 2:console.log("abcabc",l);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){console.log("abcabc",l),Y(l[u])||s(l[u])}),[l]);return Object(a.jsxs)("div",{className:"Global-content",children:[r.map((function(n){return Object(a.jsx)(E,{label:M(n.name),labelVariant:"h6",onClick:function(){return a=n.name,e(Z(a)),void t.push("/pokemon/".concat(a));var a}})})),Object(a.jsx)(_,{onChange:function(t,n){e(function(e){return{type:V,payload:e}}(n)),Y(l[n])?e(U({offset:(n-1)*b,limit:b})):s(l[n])},page:u,pages:z(m/b)})]})},Q=(n(134),n(200)),X=function(e){var t=e.label,n=e.variant,o=void 0===n?"outlined":n,c=Object(O.a)(e,["label","variant"]);return Object(a.jsx)(Q.a,Object(m.a)(Object(m.a)({variant:o,color:"primary"},c),{},{children:t}))},ee={cardContent:{paddingBottom:0},cardActions:{paddingLeft:0,float:"right"},releaseButton:{color:"#f44336",borderColor:"#f44336"},divider:{marginTop:20}},te=function(){var e=Object(B.b)(),t=Object(R.f)(),n=Object(o.useState)([]),c=Object(i.a)(n,2),r=c[0],s=c[1],l=Object(B.c)((function(e){return e.PokemonReducer.myPokemonsList})),u=Object(B.c)((function(e){return e.PokemonReducer.myPokemonsListCount})),j=Object(B.c)((function(e){return e.PokemonReducer.currentMyPokemonsListPage})),b=Object(B.c)((function(e){return e.PokemonReducer.pageLimit}));Object(o.useEffect)((function(){e({type:H}),s(Object.keys(l).slice(0,b).reduce((function(e,t){return e[t]=l[t],e}),{}))}),[]),Object(o.useEffect)((function(){console.log("abcabc",l),s(Object.keys(l).slice((j-1)*b,(j-1)*b+b).reduce((function(e,t){return e[t]=l[t],e}),{}))}),[j,l]);var m=function(t){e(function(e){return{type:G,payload:e}}(t))};return Object(a.jsx)("div",{className:"Global-content",children:!Y(r)&&Object(a.jsxs)("div",{children:[Object.keys(r).map((function(n){return Object(a.jsx)(E,{label:n,labelVariant:"h6",onClick:function(){return a=l[n],e(Z(a)),void t.push("/pokemon/".concat(a));var a},styles:ee,separateContentAndButtons:!0,children:Object(a.jsx)(X,{size:"small",label:"Release",style:ee.releaseButton,onClick:function(e){e.preventDefault(),e.stopPropagation(),m(n)}})})})),Object(a.jsx)(_,{onChange:function(t,n){e(function(e){return{type:W,payload:e}}(n))},page:j,pages:z(u/b)})]})})},ne=function(){var e=Object(o.useState)(0),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.jsxs)("div",{className:"Global-wrapper",children:[function(){switch(n){case 0:return Object(a.jsx)(q,{});case 1:return Object(a.jsx)(te,{});default:return Object(a.jsx)(q,{})}}(),Object(a.jsx)(v,{selectedAction:n,onChange:function(e,t){return c(t)},actions:[{label:"Pokemons List",icon:Object(a.jsx)(b.a,{})},{label:"My Pokemons",icon:Object(a.jsx)(u.a,{})}]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=n(92),oe=n.n(ae),ce=n(38),re=n(94),se=n(40),ie="MY_POKEMONS",le=function(e){var t=localStorage.getItem(e);return Y(t)?null:JSON.parse(t)},ue=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},je=function(e){return localStorage.removeItem(e)},be={pokemonsListCount:null,pokemonsList:[],currentPokemon:null,myPokemonsList:{},searchTerm:"",myPokemonsListCount:null,pageOffset:0,pageLimit:20,currentPokemonsListPage:1,currentMyPokemonsListPage:1};var me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:if(200===t.payload.status)return Object(m.a)(Object(m.a)({},e),{},{pokemonsList:Object(m.a)(Object(m.a)({},e.pokemonsList),{},Object(se.a)({},e.currentPokemonsListPage,t.payload.data.results)),allPokemonsCount:t.payload.data.count,pageOffset:(e.currentPokemonsListPage-1)*e.pageLimit});case F:if(200===t.payload.status)return Object(m.a)(Object(m.a)({},e),{},{currentPokemon:Object(m.a)(Object(m.a)({},t.payload.data),{},{types:t.payload.data.types.map((function(e){return e.type})),moves:t.payload.data.moves.map((function(e){return e.move}))})});case H:var n=le(ie);return Y(n)?Object(m.a)(Object(m.a)({},e),{},{myPokemonsList:{},myPokemonsListCount:0}):Object(m.a)(Object(m.a)({},e),{},{myPokemonsList:n.pokemons,myPokemonsListCount:n.count});case G:var a=t.payload,o=le(ie);if(o.pokemons[a]){if(1===o.count)return je(ie),Object(m.a)(Object(m.a)({},e),{},{myPokemonsList:{}});var c=o.pokemons,r=(c[a],Object(O.a)(c,[a].map(re.a)));return o.count-=1,ue(ie,{count:o.count,pokemons:r}),Object(m.a)(Object(m.a)({},e),{},{myPokemonsList:r})}return Object(m.a)(Object(m.a)({},e),{},{myPokemonsList:o});case K:var s,i=t.payload,l=i.pokemonNickname,u=i.pokemonName,j=le(ie);return s=Y(j)?{count:1,pokemons:Object(se.a)({},l,u)}:{count:j.count+1,pokemons:Object(m.a)(Object(m.a)({},j.pokemons),{},Object(se.a)({},l,u))},ue(ie,s),Object(m.a)(Object(m.a)({},e),{},{myPokemonsList:s});case V:var b=t.payload;return Object(m.a)(Object(m.a)({},e),{},{currentPokemonsListPage:b});case W:var p=t.payload;return Object(m.a)(Object(m.a)({},e),{},{currentMyPokemonsListPage:p});default:return e}},Oe=Object(ce.c)({PokemonReducer:me}),pe=n(47),de=n(210),fe=n(93),ke="#7D4CDB",ve="#11CB5F",ye=Object(fe.a)({palette:{primary:{main:ke},secondary:{main:ve}}}),he=n(211),ge=n(215),xe=n(206),Pe=n(202),Ce=n(203),Le=n(201),Se=function(e){var t=e.open,n=(e.setOpen,e.dialogTitle),o=e.dialogSubTitle,c=e.textFieldLabel,r=e.textFieldValue,s=e.textFieldOnChange,i=e.dialogConfirmButtonLabel,l=e.onSubmit;return Object(a.jsxs)(ge.a,{open:t,children:[Object(a.jsx)(Le.a,{children:n}),Object(a.jsxs)(Pe.a,{children:[Object(a.jsx)(Ce.a,{children:o}),Object(a.jsx)(he.a,{autoFocus:!0,margin:"dense",label:c,type:"text",fullWidth:!0,value:r,onChange:s})]}),Object(a.jsx)(xe.a,{children:Object(a.jsx)(X,{variant:"text",onClick:l,color:"primary",label:i})})]})},Ne=n(217),Ee=function(e){var t=e.url,n=Object(O.a)(e,["url"]);return Object(a.jsx)(Ne.a,Object(m.a)({src:t},n))},we=n(205),Te=n(207),_e=n(208),Me=n(209),Be={listItem:{backgroundColor:ke,color:"#ffffff",opacity:.75}},Re=function(e){var t=e.listItems,n=e.iconSelector,o=void 0===n?"icon":n,c=e.labelSelector,r=void 0===c?"label":c;return Object(a.jsx)(we.a,{children:t.map((function(e,t){return Object(a.jsxs)(Te.a,{style:Be.listItem,divider:!0,children:[Y(e[o])?null:Object(a.jsx)(_e.a,{children:e[o]}),Object(a.jsx)(Me.a,{primary:M(e[r])})]},t)}))})},Ae=n(216),De=n(212);function Ie(e){return Object(a.jsx)(De.a,Object(m.a)({elevation:6},e))}var Fe=function(e){var t=e.snackbarStatus,n=e.autoHideDuration,o=e.handleClose,c=e.variant,r=Object(O.a)(e,["snackbarStatus","autoHideDuration","handleClose","variant"]),s=function(e,n){"clickaway"!==n&&o(Object(m.a)(Object(m.a)({},t),{},{open:!1}))};return Object(a.jsx)(Ae.a,Object(m.a)(Object(m.a)({open:t.open,autoHideDuration:n,onClose:s},r),{},{children:Object(a.jsx)(Ie,{onClose:s,severity:t.severity,variant:c,children:t.message})}))},He={pokemonDetailWrapper:{marginBottom:0},avatar:{margin:"0 auto",width:120,height:120,backgroundColor:ve,padding:"0.5em",opacity:.75},typesSection:{margin:"1em"},movesSection:{margin:"1em",maxHeight:500,overflow:"auto"},pokemonNameTitle:{textAlign:"center",color:ke},catchPokemonButton:{display:"block",width:"95%",margin:"0 auto"}},Ke=function(e){var t=e.match,n=Object(B.b)(),c=Object(R.f)(),r=t.params.pokemonName,s=Object(o.useState)({open:!1,severity:"",message:""}),l=Object(i.a)(s,2),u=l[0],j=l[1],b=Object(o.useState)(!1),m=Object(i.a)(b,2),O=m[0],p=m[1],d=Object(o.useState)(""),f=Object(i.a)(d,2),k=f[0],v=f[1],y=Object(B.c)((function(e){return e.PokemonReducer.currentPokemon})),h=Y(y)?"-":M(y.name);Object(o.useEffect)((function(){Y(y)&&n(Z(r))}),[]);return Object(a.jsx)("div",{className:"Global-wrapper",style:He.pokemonDetailWrapper,children:Object(a.jsxs)("div",{className:"Global-content",children:[Y(y)?null:Object(a.jsxs)("div",{children:[Object(a.jsx)(Ee,{url:y.sprites.front_default,alt:y.name,style:He.avatar}),Object(a.jsx)(S,{label:h,variant:"h3",style:He.pokemonNameTitle}),Object(a.jsxs)("div",{style:He.typesSection,children:[Object(a.jsx)(S,{label:"Types",variant:"h4"}),Object(a.jsx)(Re,{listItems:y.types,labelSelector:"name"})]}),Object(a.jsxs)("div",{style:He.movesSection,children:[Object(a.jsx)(S,{label:"Moves",variant:"h4"}),Object(a.jsx)(Re,{listItems:y.moves,labelSelector:"name"})]}),Object(a.jsx)(X,{onClick:function(){Math.random()<.5?(p(!0),j({open:!0,severity:"success",message:"Congratulations you have caught ".concat(h)})):j({open:!0,severity:"error",message:"Too bad! You did not caught ".concat(h)})},style:He.catchPokemonButton,label:"Catch ".concat(h)})]}),Object(a.jsx)(Se,{open:O,setOpen:p,dialogTitle:"Set Nickname",dialogSubTitle:"Set nickname for your newly caught pokemon",textFieldLabel:"Nickname",textFieldValue:k,textFieldOnChange:function(e){return v(e.target.value)},dialogConfirmButtonLabel:"Save Nickname",onSubmit:function(){""!==k&&(!function(e,t){var n=le(e);return!(Y(n)||!n.pokemons[t])}(ie,k)?(console.log("abcabc","".concat(k," is saved to localhost")),n(function(e,t){return{type:K,payload:{pokemonNickname:e,pokemonName:t}}}(k,y.name)),p(!1),c.goBack()):j({open:!0,severity:"error",message:"Nickname already exists, please give another nickname"}))}}),Object(a.jsx)(Fe,{snackbarStatus:u,autoHideDuration:5e3,handleClose:j,variant:"filled"})]})})},Ge=function(){var e=Object(ce.a)(oe.a)(ce.d);return Object(a.jsx)(pe.a,{basename:"/tokopedia-project-main",children:Object(a.jsx)(de.a,{theme:ye,children:Object(a.jsx)(B.a,{store:e(Oe),children:Object(a.jsxs)(R.c,{children:[Object(a.jsx)(R.a,{exact:!0,path:"/",component:ne}),Object(a.jsx)(R.a,{exact:!0,path:"/pokemon",component:ne}),Object(a.jsx)(R.a,{exact:!0,path:"/pokemon/:pokemonName",component:Ke})]})})})})};s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(Ge,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[140,1,2]]]);
//# sourceMappingURL=main.65e4d108.chunk.js.map